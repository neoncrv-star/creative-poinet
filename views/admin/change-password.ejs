<%- include('layout-header') %>

<div class="admin-card" style="max-width: 600px; margin: 0 auto;">
    <div class="card-header">
        <h2>تغيير كلمة المرور</h2>
        <p>قم بتحديث كلمة مرور حساب الأدمن.</p>
    </div>
    <div class="card-body">
        <% if (error) { %>
            <div style="padding: 12px; background: #3b0d0d; border: 1px solid #ff4d4d; color: #fff; border-radius: 8px; margin-bottom: 15px;">
                <i class="fas fa-exclamation-triangle"></i>
                <span style="margin-right: 8px;"><%= error %></span>
            </div>
        <% } %>
        <% if (success) { %>
            <div style="padding: 12px; background: #0d3b1f; border: 1px solid #27ae60; color: #fff; border-radius: 8px; margin-bottom: 15px;">
                <i class="fas fa-check-circle"></i>
                <span style="margin-right: 8px;"><%= success %></span>
            </div>
        <% } %>
        <form action="/admin/account/password" method="POST" class="admin-form">
            <div class="form-group">
                <label>كلمة المرور الحالية</label>
                <input type="password" name="currentPassword" required minlength="1" autocomplete="current-password" />
            </div>
            <div class="form-group">
                <label>كلمة المرور الجديدة</label>
                <input type="password" name="newPassword" required minlength="8" autocomplete="new-password" />
                <small style="color:#aaa">يجب أن تكون 8 أحرف على الأقل</small>
            </div>
            <div class="form-group">
                <label>تأكيد كلمة المرور الجديدة</label>
                <input type="password" name="confirmPassword" required minlength="8" autocomplete="new-password" />
            </div>
            <div class="form-actions">
                <button type="submit" class="btn btn-primary"><i class="fas fa-key"></i> تحديث كلمة المرور</button>
                <a href="/admin" class="btn">إلغاء</a>
            </div>
        </form>
    </div>
</div>

<style>
    .admin-form .form-group { margin-bottom: 15px; }
    .admin-form label { display:block; margin-bottom:6px; }
    .admin-form input[type="password"] {
        width: 100%;
        padding: 10px;
        border: 1px solid #333;
        background: #111;
        color: #fff;
        border-radius: 6px;
    }
    .form-actions { display:flex; gap:10px; align-items:center; }
    .btn { padding:10px 16px; border-radius:6px; border:1px solid #333; background:#222; color:#fff; text-decoration:none; }
    .btn-primary { background: var(--primary-color, #ff3131); border-color: #ff3131; }
</style>

<%- include('layout-footer') %>
