<%- include('layout-header') %>

<div class="admin-content-inner">
    <div class="admin-topbar-actions" style="margin-bottom: 2rem;">
        <h2 style="font-weight: 700; color: var(--secondary-color);">
            <i class="fas fa-hashtag"></i> <%= stat && stat.id ? 'تعديل رقم' : 'إضافة رقم جديد' %>
        </h2>
        <p style="color: var(--text-muted); margin-top: 5px;">هذه الأرقام تظهر في واجهة الموقع بعد قسم الهيرو.</p>
    </div>

    <div class="admin-card">
        <% if (error) { %>
            <div class="alert alert-danger"><%= error %></div>
        <% } %>

        <form action="<%= stat && stat.id ? '/admin/stats/edit/' + stat.id : '/admin/stats/add' %>" method="POST">
            <div class="form-row" style="display: grid; grid-template-columns: 1.5fr 1fr; gap: 1.5rem;">
                <div class="form-group">
                    <label>المفتاح (Key)</label>
                    <input type="text" name="key" class="form-control" value="<%= stat ? stat.key : '' %>" required placeholder="مثال: clients">
                    <small style="color: var(--text-muted);">يستخدم داخلياً فقط لتنظيم الأرقام.</small>
                </div>
                <div class="form-group">
                    <label>الترتيب (Display Order)</label>
                    <input type="number" name="display_order" class="form-control" value="<%= stat ? stat.display_order : 0 %>" required>
                </div>
            </div>

            <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                <div class="form-group">
                    <label>العنوان بالعربية</label>
                    <input type="text" name="label_ar" class="form-control" value="<%= stat ? stat.label_ar : '' %>" required placeholder="عملاء سعداء">
                </div>
                <div class="form-group">
                    <label>العنوان بالإنجليزية</label>
                    <input type="text" name="label_en" class="form-control" value="<%= stat ? stat.label_en : '' %>" required placeholder="Happy Clients">
                </div>
            </div>

            <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                <div class="form-group">
                    <label>القيمة (Number)</label>
                    <input type="number" name="value" class="form-control" value="<%= stat ? stat.value : 0 %>" required>
                </div>
                <div class="form-group">
                    <label>اللاحقة (مثل + أو %)</label>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem;">
                        <input type="text" name="suffix_ar" class="form-control" value="<%= stat ? (stat.suffix_ar || '') : '' %>" placeholder="+ بالعربية">
                        <input type="text" name="suffix_en" class="form-control" value="<%= stat ? (stat.suffix_en || '') : '' %>" placeholder="+ English">
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="custom-control custom-switch">
                    <input type="checkbox" name="is_active" class="custom-control-input" id="is_active" <%= !stat || stat.is_active ? 'checked' : '' %>>
                    <label class="custom-control-label" for="is_active">عرض هذا الرقم في الموقع</label>
                </div>
            </div>

            <button type="submit" class="btn btn-primary">
                <i class="fas fa-save"></i> حفظ
            </button>
            <a href="/admin/stats" class="btn btn-secondary">إلغاء</a>
        </form>
    </div>
</div>

<style>
@media (max-width: 768px) {
    .admin-card .form-row {
        grid-template-columns: 1fr !important;
    }
}
</style>

<%- include('layout-footer') %>

